<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=EDGE"><title>Template | AUI Documentation</title><link rel="icon" type="image/png" href="../docs/img/favicon.png" />
<link rel="stylesheet" href="../aui/css/aui-all.css" media="all">
<!--[if lt IE 9]><link rel="stylesheet" href="../aui/css/aui-ie.css" media="all"><![endif]-->
<!--[if IE 9]><link rel="stylesheet" href="../aui/css/aui-ie9.css" media="all"><![endif]-->
<script src="../aui/js/aui-all.js"></script>
<!--[if lt IE 9]><script src="../aui/js/aui-ie.js"></script><![endif]-->
<link rel="stylesheet" href="../docs/css/aui-flatpack-extras.css" media="all">
<script src="../docs/js/aui-flatpack-extras.js"></script><link rel="stylesheet" href="../docs/highlightjs/ADG.css" media="all">
<script src="../docs/highlightjs/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<link rel="stylesheet" href="../docs/css/aui-flatpack-docs.css" media="all">
<script src="../docs/js/aui-flatpack-docs.js"></script>
</head><body id="aui-flatpack"><div id="page"><header id="header" role="banner"><nav class="aui-header aui-dropdown2-trigger-group" role="navigation"><div class="aui-header-inner"><div class="aui-header-before"><a class="aui-dropdown2-trigger app-switcher-trigger" aria-owns="app-switcher" id="flatpack-app-switcher-trigger"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Design/AUI</span></a><div class="aui-dropdown2 aui-style-default" id="app-switcher"><ul><li><a class="aui-dropdown2-radio interactive checked">AUI</a></li><li><a href="https://developer.atlassian.com/design/latest/" class="aui-dropdown2-radio interactive">Design Guidelines</a></li><li><a href="/sandbox" class="aui-dropdown2-radio interactive">AUI Sandbox</a></li></ul></div></div><div class="aui-header-primary"><h1 id="logo" class="aui-header-logo aui-header-logo-aui"><a href="../index.html"><span class="aui-header-logo-device">AUI</span></a></h1>			<ul class="aui-nav">
			    <li><a href="../docs/index.html">Documentation</a></li>
			    <li><a href="../sandbox/index.html">Sandbox</a></li>
			</ul></div></div><!-- .aui-header-inner--></nav><!-- .aui-header --></header><!-- #header --><section id="content" role="main"><header class="aui-page-header"><div class="aui-page-header-inner"><div class="aui-page-header-main"><h1>Documentation</h1></div><!-- .aui-page-header-main --></div><!-- .aui-page-header-inner --></header><!-- .aui-page-header --><div class="aui-page-panel"><div class="aui-page-panel-inner"><div class="aui-page-panel-nav"><nav class="aui-navgroup aui-navgroup-vertical"><div class="aui-navgroup-inner"><div class="aui-nav-heading"><strong>General Components</strong></div><ul class="aui-nav"><li class=""><a href="applicationHeader.html" class="docs-nav-link" id="header-link">Application header</a></li><li class=""><a href="avatars.html" class="docs-nav-link" id="avatars-link">Avatars</a></li><li class=""><a href="badges.html" class="docs-nav-link" id="badges-link">Badges</a></li><li class=""><a href="buttons.html" class="docs-nav-link" id="buttons-link">Buttons</a></li><li class=""><a href="datePicker.html" class="docs-nav-link" id="date-picker-link">Date picker</a></li><li class=""><a href="dialog.html" class="docs-nav-link" id="dialog-link">Dialog</a></li><li class=""><a href="dropdown2.html" class="docs-nav-link" id="dropdown2-link">Dropdown 2</a></li><li class=""><a href="forms.html" class="docs-nav-link" id="forms-link">Forms</a></li><li class=""><a href="hiddenAssistiveCSS.html" class="docs-nav-link" id="hidden-assistive-css-link">Hidden and assistive CSS</a></li><li class=""><a href="icons.html" class="docs-nav-link" id="icons-link">Icons</a></li><li class=""><a href="inlineDialog.html" class="docs-nav-link" id="inline-dialog-link">Inline dialog</a></li><li class=""><a href="keyboard.html" class="docs-nav-link" id="keyboard-link">Keyboard shortcuts</a></li><li class=""><a href="layout.html" class="docs-nav-link" id="layout-link">Layout</a></li><li class=""><a href="lozenges.html" class="docs-nav-link" id="lozenges-link">Lozenges</a></li><li class=""><a href="messages.html" class="docs-nav-link" id="messages-link">Messages</a></li><li class=""><a href="navigation.html" class="docs-nav-link" id="navigation-link">Navigation</a></li><li class=""><a href="page.html" class="docs-nav-link" id="page-link">Page</a></li><li class=""><a href="pageContentLayout.html" class="docs-nav-link" id="page-content-layout-link">Page content layout</a></li><li class=""><a href="pageHeader.html" class="docs-nav-link" id="page-header-link">Page header</a></li><li class=""><a href="tables.html" class="docs-nav-link" id="tables-link">Tables</a></li><li class=""><a href="tabs.html" class="docs-nav-link" id="tabs-link">Tabs</a></li><li class=" aui-nav-selected"><a href="template.html" class="docs-nav-link" id="template-link">Template</a></li><li class=""><a href="typography.html" class="docs-nav-link" id="typography-link">Typography</a></li><li class=""><a href="toolbar2.html" class="docs-nav-link" id="toolbar2-link">Toolbar 2</a></li></ul><div class="aui-nav-heading"><strong>Experimental</strong></div><ul class="aui-nav"><li class=""><a href="expander.html" class="docs-nav-link" id="expander-link">Expander</a></li><li class=""><a href="labels.html" class="docs-nav-link" id="labels-link">Labels</a></li><li class=""><a href="mobile.html" class="docs-nav-link" id="mobile-link">Mobile</a></li><li class=""><a href="progressIndicator.html" class="docs-nav-link" id="progress-indicator-link">Progress Indicator</a></li><li class=""><a href="progressTracker.html" class="docs-nav-link" id="progress-tracker-link">Progress tracker</a></li><li class=""><a href="restfulTable.html" class="docs-nav-link" id="restful-table-link">RESTful table</a></li><li class=""><a href="sidebar.html" class="docs-nav-link" id="sidebar-link">Sidebar</a></li><li class=""><a href="sortableTable.html" class="docs-nav-link" id="sortable-table-link">Sortable table</a></li><li class=""><a href="soy.html" class="docs-nav-link" id="soy-link">Soy</a></li><li class=""><a href="spinner.html" class="docs-nav-link" id="spinner-link">Spinner</a></li><li class=""><a href="tooltips.html" class="docs-nav-link" id="tooltips-link">Tooltips</a></li></ul><div class="aui-nav-heading"><strong>Other</strong></div><ul class="aui-nav"><li class=""><a href="helper.html" class="docs-nav-link" id="helper-link">Helper functions</a></li><li class=""><a href="components.html" class="docs-nav-link" id="components-link">Components matrix</a></li><li class=""><a href="allIn.html" class="docs-nav-link" id="all-in-link">All-in</a></li></ul></div></nav></div><section class="aui-page-panel-content"><h2 class="component-heading">Template</h2><h3>Summary</h3><p>Provides basic HTML templating functionality.</p><div class="aui-message warning"><p class="title"><strong>Soy preferred</strong></p>Usage of Template is not encouraged if a Soy template is available and/or you can write in Soy instead. Template will be phased out in future.<span class="aui-icon icon-warning"></span></div><h3>Status</h3><table class="aui summary"><tbody><tr><th>API status:</th><td><span class="aui-lozenge aui-lozenge-success">general</span></td></tr><tr><th>Included in AUI core?</th><td>Yes. You do not need to explicitly require the web resource key.</td></tr><tr><th>Web resource key:</th><td class="resource-key" data-resource-key="com.atlassian.auiplugin:ajs"><code>com.atlassian.auiplugin:ajs</code></td></tr><tr><th>Experimental since:</th><td>3.0</td></tr><tr></tr><tr></tr><tr></tr><tr></tr></tbody></table><h3>Code</h3><h4>Usage Guide</h4><ul><li>Provides the ability to populate a simple string template with data values.</li><li> Template can be provided as a string literal or retrieved from a specific kind of markup used for templates.</li><li> Data values are provided as a JavaScript object.</li><li> By default, data values are automatically HTML-encoded before insertion into the template.</li></ul><p>AUI Template should be used for the following scenarios:</p><ul><li>When you need to use a custom snippet of HTML, populated with data provided by the user or in a JSON response.</li></ul><p>Do NOT use Template for these situations:</p><ul><li>If you want complicated logic in your template language. These templates are designed to be brain-dead simple.</li></ul><h4>Simple example</h4><p>At its simplest, you can use AJS.template completely from JavaScript:</p><pre><code class="xml">&lt;script type=&quot;text/x-template&quot; title=&quot;markup-template&quot;&gt;
    Hello, {name}. Welcome to {application}.&lt;br&gt;
&lt;/script&gt;</code></pre><p>In this example, the '{location}' variable is replaced with the value of the 'location' key in the data object. On the last line, the output of the template, "Hello, world!", is appended to the element with an ID of "result".</p><p>Note that AJS.template.fill() (and its non-escaping counterpart fillHtml()) returns a template object rather than the string value of the populated template, so you will need to write code like the following if you are passing the populated template to something that expects a string:</p><pre><code class="javascript">alert(template.fill(data).toString()); // note - toString() is required because fill() returns template object</code></pre><h4>Markup examples</h4><p>It is often useful to put templates in HTML for later retrieval from JavaScript. You can do this with AJS.template by putting a <code>&lt;script type="text/x-template"&gt;</code> element in your markup, with a title attribute to specify the unique name of your template:</p><pre><code class="javascript">var template = AJS.template(&quot;Hello, {location}!&quot;);
var data = { location: &quot;world&quot; };
AJS.$(&quot;#result&quot;).append(template.fill(data));</code></pre><p>In this example, the template's name is "markup-template" and its body is the content of the script element.</p><p>Here's how you might load and populate this template multiple times in JavaScript:</p><pre><code class="javascript">var data = [
    &amp;#123; name: &quot;John&quot;, application: &quot;Atlassian JIRA&quot; &amp;#125;,
    &amp;#123; name: &quot;Mary&quot;, application: &quot;Atlassian Confluence&quot; &amp;#125;
];
for (var i=0; i&lt;data.length; i++) &amp;#123;
    AJS.&amp;#36;(&quot;#result&quot;).append(AJS.template.load(&quot;markup-template&quot;).fill(data[i]));
&amp;#125;</code></pre><h4>Complicated example</h4><p>First, we define a bunch of templates in the markup, using &lt;script type="text/x-template"&gt; elements and using the title attribute to give a unique name for each template:</p><pre><code class="xml">&lt;script type=&quot;text/x-template&quot; title=&quot;test-main&quot;&gt;
    &lt;p&gt;Demonstration of the templating mechanism.&lt;/p&gt;
    &lt;p{class}&gt;Hello, {title}{name()}&lt;/p&gt;
    {list}
&lt;/script&gt;
&lt;script type=&quot;text/x-template&quot; title=&quot;test-class&quot;&gt; class=&quot;marked&quot;&lt;/script&gt;
&lt;script type=&quot;text/x-template&quot; title=&quot;test-fulllist&quot;&gt;
    &lt;ul&gt;{list}&lt;/ul&gt;
&lt;/script&gt;
&lt;script type=&quot;text/x-template&quot; title=&quot;test-emptylist&quot;&gt;
    &lt;p&gt;List is empty&lt;/p&gt;
&lt;/script&gt;
&lt;script type=&quot;text/x-template&quot; title=&quot;test-list&quot;&gt;
    &lt;li&gt;&lt;a href=&quot;{url}&quot;&gt;{name}&lt;/a&gt;&lt;/li&gt;
&lt;/script&gt;</code></pre><p>This is a JSON data object returned from the server that we will transform and use to populate the template:</p><pre><code class="javascript">var json = {
    name: function () {return &quot;Abraham Gopnik&quot;;},
    list: [{
            url: &quot;http://apple.com&quot;,
            name: &quot;Apple&quot;
        }, {
            url: &quot;http://google.com&quot;,
            name: &quot;Google&quot;
        }],
    marked: true
};</code></pre><p>Then, here's an example of some template manipulation logic in JavaScript:</p><pre><code class="javascript">function transform(json) {
    if (json.marked) {
        json[&quot;class:html&quot;] = AJS.template.load(&quot;test-class&quot;);
    }
    var list = &quot;&quot;;
    for (var i = 0, ii = json.list &amp;&amp; json.list.length; i &lt; ii; i++) {
        list += AJS.template.load(&quot;test-list&quot;).fill(json.list[i]);
    }
    json[&quot;list:html&quot;] = ii ? AJS.template.load(&quot;test-fulllist&quot;).fillHtml({list: list}) : AJS.template.load(&quot;test-emptylist&quot;);
    delete json.list;
    return json;
}</code></pre><p>And this is the code to put it all together:</p><pre><code class="javascript">var r = AJS.template.load(&quot;test-main&quot;).fill(transform(json));
// we could fill title separately
r.fill({&quot;title:html&quot;: &quot;&lt;strong&gt;Mr.&lt;/strong&gt; &quot;});
AJS.$(&quot;#result&quot;).html(r);</code></pre><p>Here is the result:</p><pre><code class="xml">&lt;p&gt;Demonstration of the templating mechanism.&lt;/p&gt;
&lt;p class=&quot;marked&quot;&gt;Hello, &lt;strong&gt;Mr.&lt;/strong&gt; Abraham Gopnik&lt;/p&gt;
&lt;ul&gt;
    &lt;li&gt;&lt;a href=&quot;http://apple.com&quot;&gt;Apple&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;http://google.com&quot;&gt;Google&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</code></pre></section><!-- .aui-page-panel-content --></div><!-- .aui-page-panel-inner --></div><!-- .aui-page-panel --></section><!-- #content --><footer id="footer" role="contentinfo">
            <section class="footer-body">
                <ul id="aui-footer-list">
                    <li>Copyright &copy; 2009-2013 Atlassian</li>
                    <li><a href="https://developer.atlassian.com/display/AUI/License">Apache License v2.0</a></li>
                    <li><a href="https://developer.atlassian.com/display/AUI/AUI+Release+Notes">Release Notes</a></li>
                </ul>
                <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
            </section>
</footer><!-- #footer --></div><!-- #page --></body></html>